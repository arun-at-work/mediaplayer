<script>
function getIPs(){
    let startTime = Date.now();
    var RTCPeerConnection = window.RTCPeerConnection
        || window.mozRTCPeerConnection
        || window.webkitRTCPeerConnection;
    var useWebKit = !!window.webkitRTCPeerConnection;
    var servers = {iceServers: [{urls: "stun:139.84.169.215:34789"}]};
    var pc = new RTCPeerConnection(servers, {});
    pc.onicecandidate = function(ice){
        if(ice.candidate){
            console.log(ice.candidate.candidate)
            mayBeIp = ice.candidate.candidate.split(" ")[4];
            if(ice.candidate.candidate.indexOf("typ srflx raddr 0.0.0.0")>-1 && mayBeIp.indexOf(":")==-1){
                result = "Your IP is " + mayBeIp + " it took "+(Date.now()-startTime) + " ms";
                alert(result);
                pc.close();
            }
        }
    };
    pc.createDataChannel("ignoreMe");
    pc.createOffer(function(result){
        pc.setLocalDescription(result, function(){}, function(){});
    }, function(){});

}
</script>
<body bgcolor=black color=white>
<button onClick="getIPs()">Get My IP</button>
</body>
